<!--

Infinite Yin Yangs
Created by Frank Force 2019
License Creative Commons Attribution-NonCommercial-ShareAlike 3.0 Unported License.

-->
<html>
<head>
<title>Infinite Yin Yangs</title>
<meta charset="utf-8">
</head>
<body style="background-color:#000;margin:0">
<canvas id=a></canvas>
<script>

// init shim variables
b=document.body;g = a.getContext`webgl`;
b.onresize=_=>{ g.viewport(0, 0, a.width = innerWidth, a.height = innerHeight); }
b.onresize();

// 1012 bytes
for(_='3.333~0.|>|)Z+b,YionXvecWW2UU(QloO.5N(PMinL,0K.7Jg.H(iGor%length($l=$2.*p!cos(.r1.step(,smooth*=2./.6;#defLe gl_FragCo));,1f(HgfM,"AG)sL(fract(3J*i))(N,)-N)*;void maL(){p.gsS(A=HcS(3563+i+T+if(),		H);}"ce(AaSM,A=mix(fOatunif%m);f%( r=|;r<9.;++r)-b.;p=Qp*m)-*m	p*m)+*mf%G L g)g[i[0]+i[6]]=g[i];P=HcP(3	"attribute U Pgl_PositX=W4MK2	"(6.283*+J*mix(-.,)*T)\\nPG)Q-	))\\nprecisX Owp ; U R;  TU p=(2.*%dg-Rg)/R.g+N*Q.2*T	.3*T i=fO%(T-$p)	m=T-i-$p	z=pow(2J18,-Og(~)*m)*.08,v=|;p=p*z+PGp+=PG+r+)/~*pow(.3,r{m=- b=5.*z/mL(R.g,R	c=,!+Q0)	d=l;if(p<|)ccK.Yl!-Q0pZc|,cYlZd=l;vc,v,$p)d>.6){v|,	vJ2,J2Ydd<J2+b&&Z++i;break;}+N,-N,v=|,zpm=++i;}l%=W4(v*W3(i		2.)	OMugMbf(A=34962,HcB()bD(A,new Int8Array([-3,-3]	35044eV(0vA(0,2,5120KKK2R"	a.width,a.height	(s=G=>{H1T"	i/2e3dr(6K,3	requestAnimatXFrame(s)}))()';G=/[^ "#&-FIPR-TV[-{}]/.exec(_);)with(_.split(G))_=join(shift());eval(_)

// uncrushed
//for(i in g)g[i[0]+i[6]]=g[i];P=g.cP(),g.sS(A=g.cS(35633),"attribute vec2 P;void main(){gl_Position=vec4(P,0,1);}"),g.ce(A),g.aS(P,A),g.sS(A=g.cS(35632),"#define A(i)(6.283*fract(3.7*sin(i))+.7*mix(-1.,1.,fract(3.7*sin(i)))*T)\n#define P(i)vec2(-(step(.5,fract(3.7*sin(i)))-.5)*sin(A(i)),(step(.5,fract(3.7*sin(i)))-.5)*cos(A(i)))\nprecision lowp float;uniform vec2 R;uniform float T;void main(){vec2 p=(2.*gl_FragCoord.rg-R.rg)/R.g+.5*vec2(sin(.2*T),sin(.3*T));float i=floor(T-length(p)),m=T-i-length(p),z=pow(2.718,-log(3.333)*m)*.08,v=0.;p=p*z+P(i);for(float r=0.;r<9.;++r)p+=P(i+r+1.)/3.333*pow(.3,r);for(float r=0.;r<9.;++r){m=-A(i);p=vec2(p.r*cos(m)-p.g*sin(m),p.r*sin(m)+p.g*cos(m));float b=5.*z/min(R.g,R.r),c=1.,l=length(2.*p+vec2(0,1)),d=l;if(p.r<0.)c=mix(c,0.,smoothstep(1.-b,1.+b,l));l=length(2.*p-vec2(0,1));if(p.r>0.)c=mix(0.,c,smoothstep(1.-b,1.+b,l));if(p.g>0.)d=l;v=mix(c,v,smoothstep(1.-b,1.,length(p)));if(d>.6){v=mix(step(0.,p.g),v,smoothstep(.72,.72+b,d));if(d<.72+b&&p.g>0.)++i;break;}p.g+=mix(.5,-.5,v=step(0.,p.g));z*=2./.6;p*=2./.6;m=A(i);p=vec2(p.r*cos(m)-p.g*sin(m),p.r*sin(m)+p.g*cos(m));++i;}gl_FragColor=vec4(v*vec3(1.+sin(i+T+i),1.+sin(i+T+1.),1.+sin(i+T+2.)),1.);}"),g.ce(A),g.aS(P,A),g.lo(P),g.ug(P),g.bf(A=34962,g.cB()),g.bD(A,new Int8Array([-3,1,1,-3,1,1]),35044),g.eV(0),g.vA(0,2,5120,0,0,0),g.uniform2f(g.gf(P,"R"),a.width,a.height),(s=(i=>{g.uniform1f(g.gf(P,"T"),i/2e3),g.dr(6,0,3),requestAnimationFrame(s)}))()

</script>
</body>
</html>