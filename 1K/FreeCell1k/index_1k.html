<!--

Tiny Free Cells - A Tiny JavaScript Card Game
Created by Frank Force 2019
License Creative Commons Attribution-NonCommercial-ShareAlike 3.0 Unported License.

-->
<html>
<head>
<title>FreeCell 1k</title>
<meta charset="utf-8">
</head>
<body style="background-color:#000;margin:0">
<canvas id=a></canvas>
<script>

// init shim variables 
d=document;b=d.body;c=a.getContext`2d`;

// 1023 bytes
for(_='eight~W[0]+`*=.9,_99^,^,Z,H,YthXXisVV.U;Uc.text=inner400>x?&&(=p=>a()Uc.fillStyle=")),A(d9608),C,42,26,l,m=new S([],W[1]b(1)n.y-n.x-b.	(f,dYe,h).push(0,b(0)=J=>};onmouse;for(vsx,n=I=r=t=u=v=[];S=function{h=Hf{fp)}c{p.f(f.pop(}af.lengXbf[-1][p]i=52;1<ei--;)f.splice(MaX.random()*(+1)|[i%13,i/13|0])g{V==b?(t_u_d=t,H=u,!IUc(g:(A(dY85,50*e,9017+3*e)Y75Z9021+e;r!=I35>d-35<d60>h-60<hI?1>e!	Uc(b),g=V,t=d,u=h):	0<eU+1==		==U||!	)||0>e!||!e!||1+	==U	-U)%2	c(V;C=HW of f)l=%2*5h=C,CZ95Z85,l,9824+(1<?2<?6:3:5*,m=(`3)%13-2C-=4>m?"JQKA"[m]:`1)+2C+),C+=e?0:50}};b2)x=^;	;x+=^){250y=7:6;y--;)	c(s);^,-1:1}vb);setInterval(B{Rect(a.widXWidX,a.h~H~,#223")s of v)s.g();r=I},16);A==>{Align="center";Baseline="middle";c.font=H+"px arial";hsl(0 ^%"+e+"%";Text(10<h?String.fromCharCode(h):h,f,d)down{I=1up{I=0moven=J;';G=/[^ -TW[\]a-}]/.exec(_);)with(_.split(G))_=join(shift());eval(_)

// uncrushed
//n=I=r=t=u=v=[];S=function(f,d,H,e,h){h=H;this.f=p=>{f.push(p)};this.c=p=>{p.f(f.pop())};this.a=J=>f.length;this.b=p=>f[this.a()-1][p];for(i=52;1<e&&i--;)f.splice(Math.random()*(this.a()+1)|0,0,[i%13,i/13|0]);this.g=J=>{this==b?(t*=.9,u*=.9,d=n.x-t,H=n.y-u,this.a()&&!I&&this.c(g)):(A(d,H,85,50*e,9017+3*e),A(d,H,75,99,9021+e));r!=I&&35>n.x-d&&-35<n.x-d&&60>n.y-h&&-60<n.y-h&&(I?this.a()&&1>e&&!b.a()&&(this.c(b),g=this,t=n.x-d,u=n.y-h):b.a()&&(0<e&&(this.a()&&this.b(0)+1==b.b(0)&&b.b(1)==this.b(1)||!b.b(0))||0>e&&!this.a()||!e&&(!this.a()||1+b.b(0)==this.b(0)&&(b.b(1)-this.b(1))%2))&&b.c(this));C=H;for(W of f)l=W[1]%2*50,h=C,A(d,C,99,0,9608),A(d,C,95,99,9608),A(d,C,85,l,9824+(1<W[1]?2<W[1]?6:3:5*W[1])),m=(W[0]+3)%13,A(d-20,C-42,26,l,m=4>m?"JQKA"[m]:W[0]+1),A(d+20,C+42,26,l,m),C+=e?0:50}};b=new S([],0,0,2);for(x=99;b.a();x+=99){v.push(s=new S([],x,250,0));for(y=400>x?7:6;y--;)b.c(s);v.push(s=new S([],x,99,400>x?-1:1))}v.push(b);setInterval(B=J=>{c.fillRect(0,0,a.width=innerWidth,a.height=innerHeight,c.fillStyle="#223");for(s of v)s.g();r=I},16);A=(f,d,H,e,h)=>{c.textAlign="center";c.textBaseline="middle";c.font=H+"px arial";c.fillStyle="hsl(0 99%"+e+"%";c.fillText(10<h?String.fromCharCode(h):h,f,d)};onmousedown=J=>{I=1};onmouseup=J=>{I=0};onmousemove=J=>n=J;

</script>
</body>
</html>