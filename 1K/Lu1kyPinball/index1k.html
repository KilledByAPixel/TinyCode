<!--

Lu1ky Pinball üçÄ
a tiny magic pinball physics game
by Frank Force
for js1024 2023

how to play
- z = left flipper
- x = right flipper
- c = ball launcher
- free ball every 64 points
- chrome browser recommended

features
- slingshots
- ball launcher
- rotating flipper
- score bumper animation
- score and ball display
- free ball every 64 points
- four leaf clover arrangement

-->

<html>
<head><title>Lu1ky Pinball üçÄ</title></head>
<body id=b style=margin:0;background:#234;color:#fff>

<canvas id=a style=background:#fff>
<script>

// js1024 shim
'use strict';
a.width = innerWidth;
a.height = innerHeight;
const c = a.getContext("2d");
const d = document;

onresize = e =>
{
    a.width = innerWidth;
    a.height = innerHeight;
}

</script>
<script>

//1013
//w=(x,y,t,r=9)=>n.push({x,y,t,r,g:0,w:0});for(n=[x=3,1],w(i=g=0,1e3),r=65;r--;){for(h=2;h--;)w();w(691,790,0,6)}for(h=2;h--;){for(w(482,816),w(500,180,1,15),w(500+60*(2*h-1),120,1,45),w(500+60*(2*h-1),240,1,45),w(482-210*(2*h-1),320,1,70),r=115;r--;)w(500+209*(2*h-1),800-7*r);for(w(482+182*(2*h-1),539,1,15),r=60;r--;)w(673,800-7*r),w(500+209*(2*h-1)*Math.cos(r/38),209-209*Math.sin(r/38));for(r=19;r--;)w(482+154*(2*h-1),697-7*r),w(482+(2*h-1)*(154-4*r),697+3*r),w(482+(2*h-1)*(100+r),690-3*r,1,5),w(500+r%3*24*(2*h-1),438-r%9*20,1,5)}onkeydown=a=>n[a.key]=1,onkeyup=a=>n[a.key]=0,setInterval(`for(w=9;w--;){for(h=2;h--;)for(n[h]=Math.max(-1,Math.min(1,n[h]+=n["zx"[h]]?-.07:.05)),r=65;r--;)e=n[3+65*h+r],e.g=-e.x+(e.x=482+(2*h-1)*(80-r*Math.cos(n[h]/2))),e.w=-e.y+(e.y=760+r*Math.sin(n[h]/2)),e.r=15-r/8,e=n[133+r],e.y=Math.min(790+r,e.y+=e.w=n.c?.05:Math.sin(++i)/99+(760+r-e.y)/19);a.width|=e=n[2],e.x+=e.g,e.y+=e.w+=.0017,1e3<e.y&&x&&(e.x=691,e.y=740,e.w=e.g=0,x--),n.map((a=>{w||c.beginPath(c.fill(c.arc(a.x,a.y,a.b?--a.b+a.r:a.r,0,9))),f=Math.hypot(y=e.x-a.x,o=e.y-a.y),r=a.g-e.g,t=a.w-e.w,0>f-e.r-a.r&0<r*y+t*o&!(a.t&!e.g)&&(e.x-=(f-e.r-a.r)*y/f,e.y-=(f-e.r-a.r)*o/f,f*=f/(t*y-r*o),h=!a.t|a.b?1.3:(a.b=9,600<a.y||(++g%64||++x),1.7),e.g+=(r+o/f)*h,e.w+=(t-y/f)*h)}))}for(r=g+8>>3;r--;)c.beginPath(c.fill(c.arc(260-r%8*20,420+3*r,r?9:g%8,0,9)));for(r=x;r--;)c.beginPath(c.fill(c.arc(760,420+60*r,25,0,9)))`,16)

for(_='00F*rE8F-7ED/f)*hCin(BMath.AAsB@keyZ1,Y0,XXYWr=V),UUVT-rS69R15Qe. a.f- r-r-=()**Acos(x,y,t, w x ge=n[--;)for();209+=+rw(482(2*h-1)EU+*(1,X9))60	n[h] y=a=>n[Z]=h=2;h*,;rU5Fc.beginPath(c.fill(c.arc(w=(V9)=>n.push({r,g:Xw:0}n=[x=3,1],i=g=X1e3T65{);RY79XX6)}{,816,18WQ+	12W45+	24W45U-21032W70T1Q5F+D+182539,YQT	673,D+*r/38U-*@r/38)V19+Q4R7-754-4EUR7+3FUR0-3E,Y5%3*24438S%9*2W5)}onZdownYonZupXsetInterval(`w=9;w{=Amax(-YAmBYn["zx"[h]]?-.07:.05)T653+65*h],=-+(=482+*(80S/2))U=-+(=7	*@/2)U VQS/8,133],=AmB790,=n.c?.05:@++i)/99+(7	-)/19);width|=2],,.F17,1e3<&&x&&(=RY=74X==Xx--Un.map((a=>{w||x,y,b?--b+r:rUf=Ahypot(y=-x,o=-yTg-,t=w-,0>&0<r*y+t*o&!(t&!)&&(y/f,o/f,f*=f/(t*yS*oUh=!t|b?1.3:(b=9,	0<y||(++g%64||++xU1.7U(r+oC,(t-yC)}))}Vg+8>>32	S%8*2X420+3E,r?9:g%8Vx7	,420+	E,25)`,16)';G=/[- Q-Z@-F]/.exec(_);)with(_.split(G))_=join(shift());eval(_)

</script>